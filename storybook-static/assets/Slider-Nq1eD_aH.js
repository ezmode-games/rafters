import{j as c}from"./jsx-runtime-BjG_zV1W.js";import{r as f}from"./iframe-Cy2I62ob.js";import{c as F,u as ue,a as fe}from"./index-DYn9WTcg.js";import{u as me,c as pe,a as he,b as j,d as ge}from"./index-BB5JR4LJ.js";import{u as C}from"./index-DuwuiYca.js";import{P as T}from"./index-DoQPmrLJ.js";import{c as H}from"./utils-DuMXYCiK.js";var Y=["PageUp","PageDown"],X=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],G={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},V="Slider",[z,ve,xe]=he(V),[W,Oe]=pe(V,[xe]),[Se,I]=W(V),J=f.forwardRef((e,t)=>{const{name:r,min:n=0,max:i=100,step:l=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:d=0,defaultValue:p=[n],value:g,onValueChange:a=()=>{},onValueCommit:u=()=>{},inverted:v=!1,form:y,...x}=e,m=f.useRef(new Set),h=f.useRef(0),b=o==="horizontal"?be:we,[S=[],M]=me({prop:g,defaultProp:p,onChange:w=>{var D;(D=[...m.current][h.current])==null||D.focus(),a(w)}}),B=f.useRef(S);function K(w){const R=De(S,w);N(w,R)}function ce(w){N(w,h.current)}function de(){const w=B.current[h.current];S[h.current]!==w&&u(S)}function N(w,R,{commit:D}={commit:!1}){const $=Ve(l),k=Me(Math.round((w-n)/l)*l+n,$),A=F(k,[n,i]);M((_=[])=>{const P=Pe(_,A,R);if(Ce(P,d*l)){h.current=P.indexOf(A);const q=String(P)!==String(_);return q&&D&&u(P),q?P:_}else return _})}return c.jsx(Se,{scope:e.__scopeSlider,name:r,disabled:s,min:n,max:i,valueIndexToChangeRef:h,thumbs:m.current,values:S,orientation:o,form:y,children:c.jsx(z.Provider,{scope:e.__scopeSlider,children:c.jsx(z.Slot,{scope:e.__scopeSlider,children:c.jsx(b,{"aria-disabled":s,"data-disabled":s?"":void 0,...x,ref:t,onPointerDown:j(x.onPointerDown,()=>{s||(B.current=S)}),min:n,max:i,inverted:v,onSlideStart:s?void 0:K,onSlideMove:s?void 0:ce,onSlideEnd:s?void 0:de,onHomeKeyDown:()=>!s&&N(n,0,{commit:!0}),onEndKeyDown:()=>!s&&N(i,S.length-1,{commit:!0}),onStepKeyDown:({event:w,direction:R})=>{if(!s){const k=Y.includes(w.key)||w.shiftKey&&X.includes(w.key)?10:1,A=h.current,_=S[A],P=l*k*R;N(_+P,A,{commit:!0})}}})})})})});J.displayName=V;var[Q,Z]=W(V,{startEdge:"left",endEdge:"right",size:"width",direction:1}),be=f.forwardRef((e,t)=>{const{min:r,max:n,dir:i,inverted:l,onSlideStart:o,onSlideMove:s,onSlideEnd:d,onStepKeyDown:p,...g}=e,[a,u]=f.useState(null),v=C(t,b=>u(b)),y=f.useRef(void 0),x=ge(i),m=x==="ltr",h=m&&!l||!m&&l;function E(b){const S=y.current||a.getBoundingClientRect(),M=[0,S.width],K=U(M,h?[r,n]:[n,r]);return y.current=S,K(b-S.left)}return c.jsx(Q,{scope:e.__scopeSlider,startEdge:h?"left":"right",endEdge:h?"right":"left",direction:h?1:-1,size:"width",children:c.jsx(ee,{dir:x,"data-orientation":"horizontal",...g,ref:v,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const S=E(b.clientX);o==null||o(S)},onSlideMove:b=>{const S=E(b.clientX);s==null||s(S)},onSlideEnd:()=>{y.current=void 0,d==null||d()},onStepKeyDown:b=>{const M=G[h?"from-left":"from-right"].includes(b.key);p==null||p({event:b,direction:M?-1:1})}})})}),we=f.forwardRef((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:l,onSlideMove:o,onSlideEnd:s,onStepKeyDown:d,...p}=e,g=f.useRef(null),a=C(t,g),u=f.useRef(void 0),v=!i;function y(x){const m=u.current||g.current.getBoundingClientRect(),h=[0,m.height],b=U(h,v?[n,r]:[r,n]);return u.current=m,b(x-m.top)}return c.jsx(Q,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:c.jsx(ee,{"data-orientation":"vertical",...p,ref:a,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const m=y(x.clientY);l==null||l(m)},onSlideMove:x=>{const m=y(x.clientY);o==null||o(m)},onSlideEnd:()=>{u.current=void 0,s==null||s()},onStepKeyDown:x=>{const h=G[v?"from-bottom":"from-top"].includes(x.key);d==null||d({event:x,direction:h?-1:1})}})})}),ee=f.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:l,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:d,...p}=e,g=I(V,r);return c.jsx(T.span,{...p,ref:t,onKeyDown:j(e.onKeyDown,a=>{a.key==="Home"?(o(a),a.preventDefault()):a.key==="End"?(s(a),a.preventDefault()):Y.concat(X).includes(a.key)&&(d(a),a.preventDefault())}),onPointerDown:j(e.onPointerDown,a=>{const u=a.target;u.setPointerCapture(a.pointerId),a.preventDefault(),g.thumbs.has(u)?u.focus():n(a)}),onPointerMove:j(e.onPointerMove,a=>{a.target.hasPointerCapture(a.pointerId)&&i(a)}),onPointerUp:j(e.onPointerUp,a=>{const u=a.target;u.hasPointerCapture(a.pointerId)&&(u.releasePointerCapture(a.pointerId),l(a))})})}),te="SliderTrack",ne=f.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=I(te,r);return c.jsx(T.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});ne.displayName=te;var L="SliderRange",oe=f.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=I(L,r),l=Z(L,r),o=f.useRef(null),s=C(t,o),d=i.values.length,p=i.values.map(u=>ae(u,i.min,i.max)),g=d>1?Math.min(...p):0,a=100-Math.max(...p);return c.jsx(T.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...e.style,[l.startEdge]:g+"%",[l.endEdge]:a+"%"}})});oe.displayName=L;var O="SliderThumb",re=f.forwardRef((e,t)=>{const r=ve(e.__scopeSlider),[n,i]=f.useState(null),l=C(t,s=>i(s)),o=f.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return c.jsx(ye,{...e,ref:l,index:o})}),ye=f.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:i,...l}=e,o=I(O,r),s=Z(O,r),[d,p]=f.useState(null),g=C(t,E=>p(E)),a=d?o.form||!!d.closest("form"):!0,u=ue(d),v=o.values[n],y=v===void 0?0:ae(v,o.min,o.max),x=Ee(n,o.values.length),m=u==null?void 0:u[s.size],h=m?_e(m,y,s.direction):0;return f.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${y}% + ${h}px)`},children:[c.jsx(z.ItemSlot,{scope:e.__scopeSlider,children:c.jsx(T.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":v,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...l,ref:g,style:v===void 0?{display:"none"}:e.style,onFocus:j(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),a&&c.jsx(se,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:v},n)]})});re.displayName=O;var Re="RadioBubbleInput",se=f.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const i=f.useRef(null),l=C(i,n),o=fe(t);return f.useEffect(()=>{const s=i.current;if(!s)return;const d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&g){const a=new Event("input",{bubbles:!0});g.call(s,t),s.dispatchEvent(a)}},[o,t]),c.jsx(T.input,{style:{display:"none"},...r,ref:l,defaultValue:t})});se.displayName=Re;function Pe(e=[],t,r){const n=[...e];return n[r]=t,n.sort((i,l)=>i-l)}function ae(e,t,r){const l=100/(r-t)*(e-t);return F(l,[0,100])}function Ee(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function De(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),n=Math.min(...r);return r.indexOf(n)}function _e(e,t,r){const n=e/2,l=U([0,50],[0,n]);return(n-l(t)*r)*r}function je(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Ce(e,t){if(t>0){const r=je(e);return Math.min(...r)>=t}return!0}function U(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Ve(e){return(String(e).split(".")[1]||"").length}function Me(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var ie=J,Ne=ne,Ae=oe,Te=re;const le=f.forwardRef(({className:e,thumbSize:t="default",showValue:r=!1,showSteps:n=!1,unit:i="",trackSize:l="default",value:o,step:s,min:d=0,max:p=100,...g},a)=>{const u=Array.isArray(o)?o[0]:o,v=u!==void 0?`${u}${i}`:"";return c.jsxs("div",{className:"relative w-full",children:[r&&u!==void 0&&c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:"Value"}),c.jsx("span",{className:"text-sm text-muted-foreground font-mono",children:v})]}),c.jsxs(ie,{ref:a,className:H("relative flex w-full touch-none select-none items-center","data-[disabled]:pointer-events-none data-[disabled]:opacity-disabled",l==="default"&&"py-2",l==="large"&&"py-4",e),value:o,step:s,min:d,max:p,...g,children:[c.jsx(Ne,{className:H("relative w-full grow overflow-hidden rounded-full bg-secondary",l==="default"&&"h-2",l==="large"&&"h-3"),children:c.jsx(Ae,{className:"absolute h-full bg-primary transition-all duration-200"})}),c.jsx(Te,{className:H("block rounded-full border-2 border-primary bg-background ring-offset-background","transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","hover:scale-110 active:scale-95 disabled:pointer-events-none disabled:opacity-disabled",t==="default"&&"h-5 w-5",t==="large"&&"h-6 w-6","min-h-[44px] min-w-[44px] sm:min-h-[20px] sm:min-w-[20px]"),"aria-label":`Slider value ${v}`})]}),n&&s&&c.jsx("div",{className:"flex justify-between mt-2 px-1",children:Array.from({length:Math.floor((p-d)/s)+1},(y,x)=>{const m=d+x*s;return c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"w-px h-2 bg-muted"}),c.jsxs("span",{className:"text-xs text-muted-foreground mt-1",children:[m,i]})]},m)})})]})});le.displayName=ie.displayName;le.__docgenInfo={description:"",methods:[],props:{thumbSize:{required:!1,tsType:{name:"union",raw:"'default' | 'large'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'large'"}]},description:"Motor accessibility: Enhanced thumb size for easier manipulation",defaultValue:{value:"'default'",computed:!1}},showValue:{required:!1,tsType:{name:"boolean"},description:"Motor accessibility: Show value labels for precision",defaultValue:{value:"false",computed:!1}},showSteps:{required:!1,tsType:{name:"boolean"},description:"Motor accessibility: Custom step indicators",defaultValue:{value:"false",computed:!1}},unit:{required:!1,tsType:{name:"string"},description:"Cognitive load: Display unit for context",defaultValue:{value:"''",computed:!1}},trackSize:{required:!1,tsType:{name:"union",raw:"'default' | 'large'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'large'"}]},description:"Motor accessibility: Enhanced track height",defaultValue:{value:"'default'",computed:!1}},min:{defaultValue:{value:"0",computed:!1},required:!1},max:{defaultValue:{value:"100",computed:!1},required:!1}}};export{le as S};
