---
/**
 * CategorySection - Component category grouping
 * Groups components by category with header
 */

import type { ComponentCategory, ComponentMetadata } from '../../lib/types';
import { CATEGORIES } from '../../lib/types';
import ComponentCard from './ComponentCard.astro';

interface Props {
  category: ComponentCategory;
  components: ComponentMetadata[];
  class?: string;
}

const { category, components, class: className = '' } = Astro.props;
const categoryInfo = CATEGORIES[category];
---

<section class={`mb-12 ${className}`} id={category}>
  <header class="flex justify-between items-start mb-6 pb-4 border-b border-border">
    <div class="flex flex-col gap-1">
      <h2 class="font-mono text-sm font-medium tracking-widest uppercase text-foreground m-0">
        {categoryInfo.label}
      </h2>
      <p class="text-sm text-muted-foreground m-0">
        {categoryInfo.description}
      </p>
    </div>
    <span class="font-mono text-xs text-primary px-2 py-0.5 border border-border">
      {components.length}
    </span>
  </header>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
    {components.map((component) => (
      <ComponentCard component={component} />
    ))}
  </div>
</section>
