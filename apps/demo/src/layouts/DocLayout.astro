---
/**
 * DocLayout - Layout for MDX documentation pages
 * 
 * Uses Rafters components for semantic structure:
 * - Container: main landmark, article for readable content
 * - Typography: H1, Lead for clear hierarchy
 * - Separator: visual division
 * - Badge: section indicator
 */

import { Badge } from '@rafters/ui/components/ui/badge';
import { Container } from '@rafters/ui/components/ui/container';
import { Separator } from '@rafters/ui/components/ui/separator';
import { H1, Lead, Muted } from '@rafters/ui/components/ui/typography';
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  description: string;
  section?: string;
}

const { title, description, section } = Astro.props;

// Map section to badge variant
const sectionVariants: Record<string, 'default' | 'secondary' | 'muted' | 'accent'> = {
  concepts: 'default',
  tokens: 'accent',
  components: 'secondary',
  patterns: 'muted',
  guides: 'secondary',
};
---

<BaseLayout title={title} description={description}>
  <Container as="main" size="5xl" padding="6">
    {/* Doc Header */}
    <header class="pb-8">
      {section && (
        <Badge variant={sectionVariants[section] || 'default'} size="sm" class="mb-4">
          {section}
        </Badge>
      )}
      <H1 class="mb-4">{title}</H1>
      <Lead class="max-w-2xl">{description}</Lead>
    </header>

    <Separator class="mb-8" />

    {/* Doc Content - article provides automatic typography */}
    <Container as="article" class="pb-16">
      <slot />
    </Container>

    {/* Footer navigation */}
    <Separator class="mb-8" />
    <footer class="pb-8">
      <a 
        href="/docs" 
        class="inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors"
      >
        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7" />
        </svg>
        Back to Documentation
      </a>
    </footer>
  </Container>
</BaseLayout>


