---
title: "MCP Server"
description: "AI-first design intelligence for composing thoughtful UI"
order: 5
cognitiveLoad: 3
draft: false
---

# MCP Server

**3 Tools. Progressive Disclosure. Design Intelligence.**

The Rafters MCP server gives AI agents the vocabulary and grammar needed to compose UI thoughtfully. Instead of dumping the entire design system, it provides focused intelligence on demand.

## Design Philosophy

The MCP follows **progressive disclosure**:

1. **Vocabulary first** - Understand what's available
2. **Patterns on demand** - Get deep guidance for specific scenarios
3. **Components when needed** - Drill into individual component intelligence

This keeps token usage efficient while providing complete design intelligence.

<div className="bg-blue-50 border border-blue-200 rounded-lg p-6 my-8">
  <h3 className="text-lg font-semibold text-blue-900 mb-3">Quick Start</h3>
  <div className="bg-gray-900 text-gray-100 rounded-lg p-4 text-sm font-mono">
    <span className="text-gray-400">claude_desktop_config.json</span>
    <pre className="mt-2">{`{
  "mcpServers": {
    "rafters": {
      "command": "npx",
      "args": ["rafters@latest", "mcp"]
    }
  }
}`}</pre>
  </div>
</div>

## The Three Tools

### 1. rafters_vocabulary

**Get the design system vocabulary in one compact call.**

Returns:
- **Semantic colors** - primary, destructive, muted, etc.
- **Color palettes** - Available color families with scale positions
- **Spacing scale** - The spacing token values
- **Typography** - Font sizes and weights
- **Components** - All components with categories and cognitive loads
- **Patterns** - Available design patterns to drill into

```json
{
  "colors": {
    "semantic": ["primary", "secondary", "destructive", "muted", ...],
    "palettes": [
      { "name": "ocean-blue", "positions": ["50", "100", ..., "950"] }
    ]
  },
  "spacing": {
    "scale": { "1": "0.25rem", "2": "0.5rem", "4": "1rem", ... }
  },
  "typography": {
    "sizes": { "sm": "0.875rem", "base": "1rem", "lg": "1.125rem", ... },
    "weights": ["normal", "medium", "semibold", "bold"]
  },
  "components": [
    { "name": "button", "category": "form", "load": 3 },
    { "name": "dialog", "category": "overlay", "load": 5 },
    ...
  ],
  "patterns": [
    "destructive-action", "form-validation", "empty-state", ...
  ]
}
```

**Use this first** to orient yourself in the design system.

### 2. rafters_pattern

**Get deep guidance for a specific design pattern.**

Available patterns:
- `destructive-action` - Permanent operations requiring confirmation
- `form-validation` - Inline validation feedback
- `empty-state` - Guide users when no content exists
- `loading-state` - Progress indication
- `navigation-hierarchy` - Wayfinding and location
- `data-table` - Structured data presentation
- `modal-dialog` - Focused single-task overlays
- `tooltip-guidance` - Contextual help
- `card-layout` - Grouped content units
- `dropdown-actions` - Secondary action menus

Each pattern returns:

```json
{
  "name": "Destructive Action",
  "intent": "Permanent or hard-to-reverse operations requiring user confirmation",
  "components": ["alert-dialog", "button"],
  "tokens": {
    "colors": ["destructive", "destructive-foreground"],
    "spacing": ["4", "6"]
  },
  "cognitiveLoad": 7,
  "accessibility": "Requires clear focus management, escape to cancel, explicit confirmation button",
  "trustPattern": "Two-step confirmation. Never auto-focus the destructive button. Cancel should be prominent.",
  "guidance": {
    "do": [
      "Use AlertDialog for irreversible actions",
      "Describe what will be deleted/changed",
      "Provide clear cancel path"
    ],
    "never": [
      "Auto-focus destructive button",
      "Use for reversible actions",
      "Hide the cancel option"
    ]
  },
  "example": "<AlertDialog>..."
}
```

### 3. rafters_component

**Get full intelligence for a specific component.**

Returns detailed metadata when you need to understand a component deeply:

```json
{
  "name": "alert-dialog",
  "displayName": "Alert Dialog",
  "category": "overlay",
  "cognitiveLoad": 6,
  "attentionEconomics": "Demands full attention. Use sparingly.",
  "accessibility": "Focus trap, ESC to close, aria-modal required",
  "trustBuilding": "For confirmations and destructive actions only",
  "semanticMeaning": "High-stakes decision requiring explicit user action",
  "do": [
    "Use for irreversible actions",
    "Provide clear action descriptions"
  ],
  "never": [
    "Use for informational content",
    "Stack multiple dialogs"
  ],
  "variants": ["default", "destructive"],
  "primitives": ["dialog-aria", "focus-trap", "dismissable-layer"]
}
```

## Usage Workflow

### Typical AI Design Session

1. **Start with vocabulary**
   ```
   rafters_vocabulary()
   ```
   Understand what colors, spacing, components are available.

2. **Identify the pattern**
   ```
   rafters_pattern("destructive-action")
   ```
   Get guidance for the specific UI scenario.

3. **Deep dive if needed**
   ```
   rafters_component("alert-dialog")
   ```
   Get full intelligence for specific components.

### Example: Building a Delete Flow

**Step 1: Check vocabulary**
- See that `destructive` color exists
- See that `alert-dialog` component is available (load: 6)
- See that `destructive-action` pattern exists

**Step 2: Get pattern guidance**
```
rafters_pattern("destructive-action")
```
Learn:
- Use AlertDialog + Button
- Apply destructive color only to confirm button
- Never auto-focus the destructive action
- Provide clear description of consequences

**Step 3: Compose with confidence**
```jsx
<AlertDialog>
  <AlertDialogTrigger asChild>
    <Button variant="destructive">Delete Account</Button>
  </AlertDialogTrigger>
  <AlertDialogContent>
    <AlertDialogHeader>
      <AlertDialogTitle>Delete your account?</AlertDialogTitle>
      <AlertDialogDescription>
        This permanently deletes all your data. This cannot be undone.
      </AlertDialogDescription>
    </AlertDialogHeader>
    <AlertDialogFooter>
      <AlertDialogCancel>Cancel</AlertDialogCancel>
      <AlertDialogAction variant="destructive">
        Delete Account
      </AlertDialogAction>
    </AlertDialogFooter>
  </AlertDialogContent>
</AlertDialog>
```

## Cognitive Load Scores

Components and patterns include cognitive load scores (1-10):

| Score | Meaning | Examples |
|-------|---------|----------|
| 1-2 | Simple, nearly invisible | Tooltip, Skeleton, Separator |
| 3-4 | Moderate, single decision | Button, Input, Card |
| 5-6 | Complex, multiple elements | Dialog, Table, Tabs |
| 7-8 | High, requires careful attention | AlertDialog, Form with validation |
| 9-10 | Critical, significant consequences | Multi-step wizards, destructive flows |

**Budget guideline**: Keep total cognitive load under 15 for a single view.

## Why This Matters

### For AI Agents
- **Efficient token usage** - Get only what you need
- **Structured decisions** - Patterns encode design expertise
- **Clear guidance** - Do/never lists prevent common mistakes
- **Trust patterns** - Know when confirmation is required

### For Humans
- **Consistent UI** - AI follows the same patterns
- **Accessibility built-in** - Every pattern includes a11y requirements
- **Predictable behavior** - Components used correctly
- **Design system compliance** - No arbitrary choices

## Running the Server

```bash
# Start MCP server
npx rafters@latest mcp

# Or if installed locally
pnpm rafters mcp
```

The server exposes the three tools via the Model Context Protocol, compatible with Claude Desktop and other MCP clients.

---

*The Rafters MCP transforms AI design work from guessing to knowing. Three tools, progressive disclosure, thoughtful UI.*
