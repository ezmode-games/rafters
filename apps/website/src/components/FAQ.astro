---
export interface Props {
  question: string;
  answer?: string;
  id?: string;
}

const { question, answer, id } = Astro.props;
const faqId = id || `faq-${Math.random().toString(36).substr(2, 9)}`;
---

<details class="faq-item border-b border-gray-200 py-4" id={faqId}>
  <summary class="faq-question cursor-pointer flex justify-between items-center text-lg font-semibold text-gray-900 hover:text-gray-700 transition-colors">
    <span>{question}</span>
    <svg class="faq-icon w-5 h-5 text-gray-500 transition-transform duration-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </summary>

  <div class="faq-answer mt-4 text-gray-600 leading-relaxed prose prose-gray max-w-none">
    {answer ? (
      <p set:html={answer} />
    ) : (
      <slot />
    )}
  </div>
</details>

<style>
  .faq-item[open] .faq-icon {
    transform: rotate(180deg);
  }

  .faq-item[open] .faq-question {
    color: #1f2937;
  }

  .faq-answer {
    animation: fadeIn 0.2s ease-in-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-4px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>