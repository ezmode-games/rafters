---
import { getCollection, type CollectionEntry } from 'astro:content';
import MarketingLayout from '../layouts/MarketingLayout.astro';

// Get the index page from the pages collection
const pages = await getCollection('pages');
const indexPage = pages.find(page => page.slug === 'index');

if (!indexPage) {
  throw new Error('Index page not found in pages collection');
}

const { Content } = await indexPage.render();

const layoutProps = {
  title: indexPage.data.title,
  description: indexPage.data.description,
  headerTitle: indexPage.data.headerTitle,
  headerTitleClasses: indexPage.data.headerTitleClasses,
};
---

<MarketingLayout {...layoutProps}>
  <Content />
</MarketingLayout>