@import "tailwindcss";

@theme {
  /* Core semantic tokens - Grayscale first design system */
  --color-background: oklch(1 0 0); /* Pure white */
  --color-foreground: oklch(0.145 0 0); /* Near black */

  /* Surface tokens */
  --color-card: oklch(1 0 0);
  --color-card-foreground: oklch(0.145 0 0);
  --color-popover: oklch(1 0 0);
  --color-popover-foreground: oklch(0.145 0 0);

  /* Brand tokens */
  --color-primary: oklch(0.205 0 0); /* Dark gray - will be customized by wizard */
  --color-primary-foreground: oklch(0.985 0 0);

  /* Interactive tokens */
  --color-secondary: oklch(0.97 0 0);
  --color-secondary-foreground: oklch(0.205 0 0);
  --color-muted: oklch(0.97 0 0);
  --color-muted-foreground: oklch(0.556 0 0);
  --color-accent: oklch(0.97 0 0);
  --color-accent-foreground: oklch(0.205 0 0);

  /* Semantic state tokens - Grayscale first, customizable via wizard */
  --color-destructive: oklch(0.371 0 0); /* Dark gray for errors/danger */
  --color-destructive-foreground: oklch(0.985 0 0);
  --color-success: oklch(0.556 0 0); /* Medium gray for success/confirmation */
  --color-success-foreground: oklch(0.985 0 0);
  --color-warning: oklch(0.708 0 0); /* Light gray for warnings */
  --color-warning-foreground: oklch(0.145 0 0);
  --color-info: oklch(0.456 0 0); /* Medium-dark gray for information */
  --color-info-foreground: oklch(0.985 0 0);

  /* ========================================
   * STATE DESIGN TOKENS
   * Foundational values for component state behavior
   * Used with Tailwind arbitrary values: hover:opacity-[var(--opacity-hover)]
   * ======================================== */

  /* Base interaction opacities */
  --opacity-hover: 0.9;
  --opacity-hover-subtle: 0.95;
  --opacity-hover-enhanced: 0.85;
  --opacity-hover-critical: 0.8;

  --opacity-active: 0.95;
  --opacity-disabled: 0.6;
  --opacity-loading: 0.8;

  /* Transition durations */
  --duration-instant: 50ms;
  --duration-fast: 150ms;
  --duration-standard: 200ms;
  --duration-deliberate: 300ms;
  --duration-slow: 500ms;

  /* Confirmation delays */
  --delay-none: 0ms;
  --delay-brief: 200ms;
  --delay-standard: 300ms;
  --delay-deliberate: 500ms;
  --delay-cautious: 1000ms;

  /* Interactive scaling */
  --scale-active: 0.98;
  --scale-pressed: 0.96;
  --scale-hover-subtle: 1.01;

  /* Focus ring variations */
  --ring-width-standard: 2px;
  --ring-width-enhanced: 3px;
  --ring-width-prominent: 4px;

  --ring-offset-standard: 2px;
  --ring-offset-enhanced: 3px;

  --ring-opacity-standard: 0.5;
  --ring-opacity-enhanced: 0.7;
  --ring-opacity-prominent: 0.9;

  /* Border emphasis levels */
  --border-width-standard: 1px;
  --border-width-enhanced: 2px;
  --border-width-prominent: 3px;

  /* Border opacity modifiers */
  --border-opacity-subtle: 0.2;
  --border-opacity-standard: 0.3;
  --border-opacity-enhanced: 0.5;
  --border-opacity-prominent: 0.8;

  /* Shadow emphasis for states */
  --shadow-hover-subtle: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-hover-standard: 0 1px 3px rgba(0, 0, 0, 0.1);
  --shadow-hover-enhanced: 0 2px 4px rgba(0, 0, 0, 0.15);
  --shadow-hover-prominent: 0 4px 8px rgba(0, 0, 0, 0.2);

  --shadow-focus-standard: 0 0 0 var(--ring-width-standard)
    rgb(var(--color-ring) / var(--ring-opacity-standard));
  --shadow-focus-enhanced: 0 0 0 var(--ring-width-enhanced)
    rgb(var(--color-ring) / var(--ring-opacity-enhanced));
  --shadow-focus-prominent: 0 0 0 var(--ring-width-prominent)
    rgb(var(--color-ring) / var(--ring-opacity-prominent));

  /* Background alpha values for states */
  --alpha-bg-subtle: 0.05;
  --alpha-bg-standard: 0.1;
  --alpha-bg-enhanced: 0.15;
  --alpha-bg-prominent: 0.2;

  /* ========================================
   * SEMANTIC CONSEQUENCE MAPPINGS
   * ======================================== */

  /* Reversible actions (low consequence) */
  --consequence-reversible-opacity: var(--opacity-hover-subtle);
  --consequence-reversible-timing: var(--duration-fast);
  --consequence-reversible-delay: var(--delay-none);
  --consequence-reversible-ring: var(--ring-width-standard);

  /* Significant actions (medium consequence) */
  --consequence-significant-opacity: var(--opacity-hover);
  --consequence-significant-timing: var(--duration-standard);
  --consequence-significant-delay: var(--delay-none);
  --consequence-significant-ring: var(--ring-width-standard);

  /* Permanent actions (high consequence) */
  --consequence-permanent-opacity: var(--opacity-hover-enhanced);
  --consequence-permanent-timing: var(--duration-deliberate);
  --consequence-permanent-delay: var(--delay-brief);
  --consequence-permanent-ring: var(--ring-width-enhanced);

  /* Destructive actions (critical consequence) */
  --consequence-destructive-opacity: var(--opacity-hover-critical);
  --consequence-destructive-timing: var(--duration-slow);
  --consequence-destructive-delay: var(--delay-deliberate);
  --consequence-destructive-ring: var(--ring-width-prominent);

  /* ========================================
   * SEMANTIC SENSITIVITY MAPPINGS
   * ======================================== */

  /* Public data (no sensitivity) */
  --sensitivity-public-border: var(--border-width-standard);
  --sensitivity-public-shadow: none;

  /* Personal data (low sensitivity) */
  --sensitivity-personal-border: var(--border-width-standard);
  --sensitivity-personal-shadow: var(--shadow-hover-subtle);

  /* Financial data (high sensitivity) */
  --sensitivity-financial-border: var(--border-width-enhanced);
  --sensitivity-financial-shadow: var(--shadow-hover-enhanced);

  /* Critical data (maximum sensitivity) */
  --sensitivity-critical-border: var(--border-width-prominent);
  --sensitivity-critical-shadow: var(--shadow-hover-prominent);

  /* ========================================
   * VALIDATION STATE MAPPINGS
   * ======================================== */

  /* Success state emphasis */
  --validation-success-opacity: var(--opacity-hover-subtle);
  --validation-success-timing: var(--duration-fast);
  --validation-success-bg: rgb(var(--color-success) / var(--alpha-bg-subtle));

  /* Warning state emphasis */
  --validation-warning-opacity: var(--opacity-hover);
  --validation-warning-timing: var(--duration-standard);
  --validation-warning-bg: rgb(var(--color-warning) / var(--alpha-bg-standard));

  /* Error state emphasis */
  --validation-error-opacity: var(--opacity-hover-enhanced);
  --validation-error-timing: var(--duration-deliberate);
  --validation-error-bg: rgb(var(--color-destructive) / var(--alpha-bg-enhanced));

  /* Component-specific tokens */
  --color-sidebar: oklch(0.985 0 0); /* Sidebar background */
  --color-sidebar-foreground: oklch(0.145 0 0);
  --color-sidebar-border: oklch(0.922 0 0);
  --color-table-header: oklch(0.97 0 0); /* Table header background */
  --color-table-row-even: oklch(0.985 0 0); /* Even row stripe */
  --color-table-row-hover: oklch(0.97 0 0); /* Row hover state */
  --color-chart-grid: oklch(0.922 0 0); /* Chart grid lines */
  --color-tooltip: oklch(0.145 0 0); /* Tooltip background */
  --color-tooltip-foreground: oklch(0.985 0 0);

  /* Border and input tokens */
  --color-border: oklch(0.922 0 0);
  --color-input: oklch(0.922 0 0);
  --color-ring: oklch(0.708 0 0); /* Focus ring */

  /* Typography tokens - Golden ratio scaling (φ = 1.618) */
  /* Font families - configurable via onboarding wizard */
  --font-display: "Inter", system-ui, sans-serif; /* Display/marketing content */
  --font-sans: "Inter", system-ui, sans-serif; /* Body text, UI elements */
  --font-serif: "Georgia", serif; /* Long-form content */
  --font-mono: "JetBrains Mono", "Fira Code", monospace; /* Code, data */

  /* Base typography scale using golden ratio (φ = 1.618) */
  --text-base: 1rem; /* 16px base */
  --text-xs: 0.75rem; /* 12px */
  --text-sm: 0.875rem; /* 14px */
  --text-lg: 1.125rem; /* 18px */
  --text-xl: 1.25rem; /* 20px */
  --text-2xl: 1.5rem; /* 24px */
  --text-3xl: 1.875rem; /* 30px */
  --text-4xl: 2.25rem; /* 36px */
  --text-5xl: 3rem; /* 48px */
  --text-6xl: 3.75rem; /* 60px */
  --text-7xl: 4.5rem; /* 72px */
  --text-8xl: 6rem; /* 96px */
  --text-9xl: 8rem; /* 128px */

  /* Semantic heading hierarchy with golden ratio scaling */
  /* H1: Hero/Landing - φ^4 scaling from base */
  --heading-hero-size: 4.854rem; /* ~78px mobile, scales up */
  --heading-hero-size-lg: 7.854rem; /* ~126px desktop */
  --heading-hero-line-height: 0.9;
  --heading-hero-letter-spacing: -0.02em;

  /* H1: Display - φ^3 scaling from base */
  --heading-display-size: 3rem; /* 48px mobile */
  --heading-display-size-lg: 4.854rem; /* ~78px desktop */
  --heading-display-line-height: 1;
  --heading-display-letter-spacing: -0.015em;

  /* H2: Section - φ^2 scaling from base */
  --heading-section-size: 1.875rem; /* 30px mobile */
  --heading-section-size-lg: 3rem; /* 48px desktop */
  --heading-section-line-height: 1.1;
  --heading-section-letter-spacing: -0.01em;

  /* H3: Subsection - φ scaling from base */
  --heading-subsection-size: 1.5rem; /* 24px mobile */
  --heading-subsection-size-lg: 1.875rem; /* 30px desktop */
  --heading-subsection-line-height: 1.2;
  --heading-subsection-letter-spacing: -0.005em;

  /* H4: Component - base scaling */
  --heading-component-size: 1.25rem; /* 20px mobile */
  --heading-component-size-lg: 1.5rem; /* 24px desktop */
  --heading-component-line-height: 1.3;
  --heading-component-letter-spacing: 0;

  /* H5: Subcomponent - φ^-1 scaling from base */
  --heading-subcomponent-size: 1.125rem; /* 18px mobile */
  --heading-subcomponent-size-lg: 1.25rem; /* 20px desktop */
  --heading-subcomponent-line-height: 1.4;
  --heading-subcomponent-letter-spacing: 0.005em;

  /* H6: Label - φ^-2 scaling from base */
  --heading-label-size: 1rem; /* 16px mobile */
  --heading-label-size-lg: 1.125rem; /* 18px desktop */
  --heading-label-line-height: 1.5;
  --heading-label-letter-spacing: 0.01em;

  /* Body text scaling with golden ratio relationships */
  --text-body-large: 1.125rem; /* φ^-1 from H3 */
  --text-body-large-line-height: 1.6;
  --text-body: 1rem; /* Base size */
  --text-body-line-height: 1.6;
  --text-body-small: 0.875rem; /* φ^-1 from body */
  --text-body-small-line-height: 1.7;

  /* Caption and metadata text */
  --text-caption: 0.75rem; /* 12px */
  --text-caption-line-height: 1.4;
  --text-caption-letter-spacing: 0.02em;

  /* Border radius - semantic override of Tailwind defaults */
  --radius: 0.5rem; /* Default to rounded-lg, wizard can customize */

  /* Golden ratio spacing scale - extends existing --spacing-* namespace */
  --spacing-phi-0: 1rem; /* φ⁰ = 1rem = base */
  --spacing-phi-1: 1.618rem; /* φ¹ = paragraph spacing */
  --spacing-phi-2: 2.618rem; /* φ² = content blocks */
  --spacing-phi-3: 4.236rem; /* φ³ = major sections */
  --spacing-phi-4: 6.854rem; /* φ⁴ = chapter/page spacing */
  --spacing-phi--1: 0.618rem; /* φ⁻¹ = tight spacing */
  --spacing-phi--2: 0.382rem; /* φ⁻² = minimal spacing */

  /* Golden ratio containers - extends existing --container-* */
  --container-reading: 38rem; /* ~45-75 chars optimal reading */
  --container-golden: 61.8rem; /* Golden ratio content width */
  --container-sidebar: 23.6rem; /* 38.2% of golden container */

  /* Golden ratio aspect ratios - extends existing --aspect-* */
  --aspect-golden: 1.618 / 1; /* φ ratio */
  --aspect-golden-inverse: 1 / 1.618; /* 1/φ ratio */
  --aspect-hero: 16 / 10; /* Approximates golden ratio for hero */
}

@layer base {
  .dark {
    --color-background: oklch(0.145 0 0);
    --color-foreground: oklch(0.985 0 0);
    --color-card: oklch(0.205 0 0);
    --color-card-foreground: oklch(0.985 0 0);
    --color-popover: oklch(0.269 0 0);
    --color-popover-foreground: oklch(0.985 0 0);
    --color-primary: oklch(0.922 0 0);
    --color-primary-foreground: oklch(0.205 0 0);
    --color-secondary: oklch(0.269 0 0);
    --color-secondary-foreground: oklch(0.985 0 0);
    --color-muted: oklch(0.269 0 0);
    --color-muted-foreground: oklch(0.708 0 0);
    --color-accent: oklch(0.371 0 0);
    --color-accent-foreground: oklch(0.985 0 0);
    --color-destructive: oklch(0.269 0 0);
    --color-destructive-foreground: oklch(0.985 0 0);
    --color-success: oklch(0.708 0 0);
    --color-success-foreground: oklch(0.145 0 0);
    --color-warning: oklch(0.456 0 0);
    --color-warning-foreground: oklch(0.985 0 0);
    --color-info: oklch(0.556 0 0);
    --color-info-foreground: oklch(0.985 0 0);
    --color-border: oklch(1 0 0 / 10%);
    --color-input: oklch(1 0 0 / 15%);
    --color-ring: oklch(0.556 0 0);
    --color-sidebar: oklch(0.205 0 0);
    --color-sidebar-foreground: oklch(0.985 0 0);
    --color-sidebar-border: oklch(1 0 0 / 10%);
    --color-table-header: oklch(0.269 0 0);
    --color-table-row-even: oklch(0.233 0 0);
    --color-table-row-hover: oklch(0.269 0 0);
    --color-chart-grid: oklch(1 0 0 / 10%);
    --color-tooltip: oklch(0.985 0 0);
    --color-tooltip-foreground: oklch(0.145 0 0);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
    font-size: var(--text-body);
    line-height: var(--text-body-line-height);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Font family utility classes */
  .font-display {
    font-family: var(--font-display);
  }

  .font-sans {
    font-family: var(--font-sans);
  }

  .font-serif {
    font-family: var(--font-serif);
  }

  .font-mono {
    font-family: var(--font-mono);
  }
}

/* Interaction State Utilities */
@utility opacity-hover {
  opacity: var(--opacity-hover);
}

@utility opacity-active {
  opacity: var(--opacity-active);
}

@utility opacity-disabled {
  opacity: var(--opacity-disabled);
}

@utility opacity-loading {
  opacity: var(--opacity-loading);
}

@utility scale-active {
  transform: scale(var(--scale-active));
}

/* Semantic heading classes with font-display and responsive scaling */
@utility heading-hero {
  font-family: var(--font-display);
  font-size: var(--heading-hero-size);
  line-height: var(--heading-hero-line-height);
  letter-spacing: var(--heading-hero-letter-spacing);
  font-weight: 800;
  margin-bottom: var(--spacing-phi-2);

  @media (min-width: 1024px) {
    font-size: var(--heading-hero-size-lg);
  }
}

@utility heading-display {
  font-family: var(--font-display);
  font-size: var(--heading-display-size);
  line-height: var(--heading-display-line-height);
  letter-spacing: var(--heading-display-letter-spacing);
  font-weight: 700;
  margin-top: var(--spacing-phi-3);
  margin-bottom: var(--spacing-phi-2);

  @media (min-width: 1024px) {
    font-size: var(--heading-display-size-lg);
  }
}

@utility heading-section {
  font-family: var(--font-display);
  font-size: var(--heading-section-size);
  line-height: var(--heading-section-line-height);
  letter-spacing: var(--heading-section-letter-spacing);
  font-weight: 600;
  margin-top: var(--spacing-phi-2);
  margin-bottom: var(--spacing-phi-1);

  @media (min-width: 1024px) {
    font-size: var(--heading-section-size-lg);
  }
}

@utility heading-subsection {
  font-family: var(--font-display);
  font-size: var(--heading-subsection-size);
  line-height: var(--heading-subsection-line-height);
  letter-spacing: var(--heading-subsection-letter-spacing);
  font-weight: 600;
  margin-top: var(--spacing-phi-1);
  margin-bottom: var(--spacing-phi--1);

  @media (min-width: 1024px) {
    font-size: var(--heading-subsection-size-lg);
  }
}

@utility heading-component {
  font-family: var(--font-display);
  font-size: var(--heading-component-size);
  line-height: var(--heading-component-line-height);
  letter-spacing: var(--heading-component-letter-spacing);
  font-weight: 500;
  margin-top: var(--spacing-phi-1);
  margin-bottom: var(--spacing-phi--1);

  @media (min-width: 1024px) {
    font-size: var(--heading-component-size-lg);
  }
}

@utility heading-subcomponent {
  font-family: var(--font-sans);
  font-size: var(--heading-subcomponent-size);
  line-height: var(--heading-subcomponent-line-height);
  letter-spacing: var(--heading-subcomponent-letter-spacing);
  font-weight: 500;

  @media (min-width: 1024px) {
    font-size: var(--heading-subcomponent-size-lg);
  }
}

@utility heading-label {
  font-family: var(--font-sans);
  font-size: var(--heading-label-size);
  line-height: var(--heading-label-line-height);
  letter-spacing: var(--heading-label-letter-spacing);
  font-weight: 500;
  text-transform: uppercase;

  @media (min-width: 1024px) {
    font-size: var(--heading-label-size-lg);
  }
}

/* Semantic body text classes */
@utility text-body-large {
  font-family: var(--font-sans);
  font-size: var(--text-body-large);
  line-height: var(--text-body-large-line-height);
  margin-bottom: var(--spacing-phi-1);
}

@utility text-body {
  font-family: var(--font-sans);
  font-size: var(--text-body);
  line-height: var(--text-body-line-height);
  margin-bottom: var(--spacing-phi-1);
}

@utility text-body-small {
  font-family: var(--font-sans);
  font-size: var(--text-body-small);
  line-height: var(--text-body-small-line-height);
  margin-bottom: var(--spacing-phi--1);
}

@utility text-caption {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  line-height: var(--text-caption-line-height);
  letter-spacing: var(--text-caption-letter-spacing);
  color: var(--color-muted-foreground);
}

/* Layout System Utilities - Using @utility directive at root level */

/* Reading-optimized containers */
@utility container-golden {
  max-width: var(--container-golden);
  margin-inline: auto;
  padding-inline: var(--spacing-phi-1);
}

@utility container-reading {
  max-width: var(--container-reading);
  margin-inline: auto;
  padding-inline: var(--spacing-phi-1);
}

/* Reading-optimized layout (text-heavy content) */
@utility reading-layout {
  display: grid;
  grid-template-columns: 1fr min(38.2%, 24rem);
  gap: var(--spacing-phi-2);
  /* Top horizontal band optimization */
  & > :first-child {
    grid-column: 1 / -1;
    font-weight: 600;
  }
  /* Left vertical stem priority */
  & > * {
    word-break: keep-all;
  }
}

/* Action-focused layout (conversion-oriented) */
@utility action-layout {
  display: grid;
  grid-template-areas:
    "brand action"
    "hero hero"
    "content cta";
  grid-template-columns: 1fr auto;
  gap: var(--spacing-phi-2);
  align-items: center;
}

/* Content with sidebar layout */
@utility content-sidebar {
  display: grid;
  grid-template-columns: 61.8fr 38.2fr;
  gap: var(--spacing-phi-2);
}

/* Vertical content stack */
@utility content-stack {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-phi-1);
  /* Cognitive load: max 7 items */
  & > :nth-child(n + 8) {
    margin-top: var(--spacing-phi-2);
  }
}

/* Precision grid system */
@utility precision-grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: var(--spacing-phi-1);
  /* Mathematical baseline alignment */
  align-items: baseline;
}

/* Hero section with golden ratio height */
@utility hero-golden {
  min-height: 61.8vh;
  display: grid;
  place-items: center;
  text-align: center;
}

/* Application layout (header + sidebar + main) */
@utility app-layout {
  display: grid;
  grid-template-areas:
    "header header"
    "sidebar main";
  grid-template-rows: auto 1fr;
  grid-template-columns: auto 1fr;
  min-height: 100vh;
  /* Header spans full width */
  & > :first-child {
    grid-area: header;
  }
  /* Sidebar fixed width */
  & > :nth-child(2) {
    grid-area: sidebar;
    width: var(--container-sidebar);
  }
  /* Main content flexible */
  & > :nth-child(3) {
    grid-area: main;
    overflow: auto;
  }
}

/* ========================================
 * PHI-BASED GAP UTILITIES FOR GRID INTELLIGENCE
 * Mathematical spacing based on golden ratio
 * ======================================== */

@utility gap-phi--2 {
  gap: var(--spacing-phi--2);
}

@utility gap-phi--1 {
  gap: var(--spacing-phi--1);
}

@utility gap-phi-0 {
  gap: var(--spacing-phi-0);
}

@utility gap-phi-1 {
  gap: var(--spacing-phi-1);
}

@utility gap-phi-2 {
  gap: var(--spacing-phi-2);
}

@utility gap-phi-3 {
  gap: var(--spacing-phi-3);
}

/* Row gap utilities */
@utility gap-y-phi--2 {
  row-gap: var(--spacing-phi--2);
}

@utility gap-y-phi--1 {
  row-gap: var(--spacing-phi--1);
}

@utility gap-y-phi-0 {
  row-gap: var(--spacing-phi-0);
}

@utility gap-y-phi-1 {
  row-gap: var(--spacing-phi-1);
}

@utility gap-y-phi-2 {
  row-gap: var(--spacing-phi-2);
}

@utility gap-y-phi-3 {
  row-gap: var(--spacing-phi-3);
}

/* Column gap utilities */
@utility gap-x-phi--2 {
  column-gap: var(--spacing-phi--2);
}

@utility gap-x-phi--1 {
  column-gap: var(--spacing-phi--1);
}

@utility gap-x-phi-0 {
  column-gap: var(--spacing-phi-0);
}

@utility gap-x-phi-1 {
  column-gap: var(--spacing-phi-1);
}

@utility gap-x-phi-2 {
  column-gap: var(--spacing-phi-2);
}

@utility gap-x-phi-3 {
  column-gap: var(--spacing-phi-3);
}
