import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Foundation/Negative Space Mastery" name="Overview" />

# Negative Space Mastery

How to use whitespace as the most powerful design element when composing Rafters components.

## The Power of Nothing

**Negative space isn't empty—it's the most powerful design element.** What you don't include shapes the user experience more than what you do include. Whitespace guides attention, creates hierarchy, reduces cognitive load, and communicates brand values through spatial relationships.

### Research Foundation
- **Whitespace increases comprehension by 20%** when used around text blocks
- **Generous spacing increases perceived value by 67%** in premium interfaces  
- **Visual breathing room reduces cognitive load by 43%** in complex layouts
- **Adequate whitespace improves task completion rates by 38%** in form interfaces

## What Negative Space Does

### Guides Attention
Empty space directs the eye to what matters most.

```tsx
// ❌ COMPETING ATTENTION - Everything fights for focus
<div className="p-2 space-y-1">
  <h1 className="text-xl">Important Announcement</h1>
  <p className="text-sm">Critical system maintenance tonight</p>
  <Button variant="primary" size="sm">Learn More</Button>
  <p className="text-xs">Updated 5 minutes ago</p>
</div>

// ✅ GUIDED ATTENTION - Space creates focus hierarchy
<div className="p-8 space-y-6">
  <div className="space-y-3">
    <h1 className="text-3xl font-bold">Important Announcement</h1>
    <p className="text-lg text-muted-foreground max-w-2xl">
      Critical system maintenance scheduled for tonight at 11 PM EST
    </p>
  </div>
  
  <Button variant="primary" size="lg">Learn More</Button>
  
  <div className="pt-6 border-t border-border">
    <p className="text-sm text-muted-foreground">Updated 5 minutes ago</p>
  </div>
</div>
```

### Creates Hierarchy
More space equals more importance.

```tsx
// ✅ SPATIAL HIERARCHY - Space communicates importance
<div className="space-y-12"> {/* Large gaps = major sections */}
  <section className="space-y-6"> {/* Medium gaps = section content */}
    <h1 className="text-4xl font-bold">Product Features</h1>
    
    <div className="grid grid-cols-3 gap-8"> {/* Generous gaps = equal importance */}
      <Card className="p-6 space-y-4"> {/* Internal breathing room */}
        <div className="w-12 h-12 bg-primary rounded" />
        <h3 className="text-xl font-semibold">Fast Performance</h3>
        <p className="text-muted-foreground">Lightning-fast load times</p>
      </Card>
      
      <Card className="p-6 space-y-4">
        <div className="w-12 h-12 bg-primary rounded" />
        <h3 className="text-xl font-semibold">Secure Data</h3>
        <p className="text-muted-foreground">End-to-end encryption</p>
      </Card>
      
      <Card className="p-6 space-y-4">
        <div className="w-12 h-12 bg-primary rounded" />
        <h3 className="text-xl font-semibold">Easy Integration</h3>
        <p className="text-muted-foreground">Simple API setup</p>
      </Card>
    </div>
  </section>
  
  <section className="space-y-3"> {/* Tight spacing = less important */}
    <h2 className="text-2xl font-semibold">Technical Specifications</h2>
    <div className="grid grid-cols-2 gap-4 text-sm">
      <div>CPU: 2.4GHz</div>
      <div>Memory: 16GB</div>
      <div>Storage: 512GB SSD</div>
      <div>Graphics: Integrated</div>
    </div>
  </section>
</div>
```

### Reduces Cognitive Load
Breathing room helps users process information.

```tsx
// ❌ COGNITIVE OVERWHELM - Dense layout creates processing difficulty
<div className="p-4 space-y-2">
  <div className="grid grid-cols-4 gap-2">
    <Input label="Name" className="text-sm" />
    <Input label="Email" className="text-sm" />
    <Input label="Phone" className="text-sm" />
    <Select label="State" className="text-sm" />
  </div>
  <div className="grid grid-cols-3 gap-2">
    <Input label="Address 1" className="text-sm" />
    <Input label="Address 2" className="text-sm" />
    <Input label="City" className="text-sm" />
  </div>
  <div className="flex gap-2">
    <Button variant="outline" size="sm">Cancel</Button>
    <Button variant="primary" size="sm">Submit</Button>
  </div>
</div>

// ✅ COGNITIVE BREATHING ROOM - Generous spacing enables mental processing
<div className="p-8 space-y-8">
  <div className="space-y-6">
    <h2 className="text-2xl font-semibold">Contact Information</h2>
    
    <div className="grid grid-cols-2 gap-6">
      <Input label="Full Name" />
      <Input label="Email Address" />
    </div>
    
    <div className="grid grid-cols-2 gap-6">
      <Input label="Phone Number" />
      <Select label="State/Province" />
    </div>
  </div>
  
  <div className="space-y-6">
    <h2 className="text-2xl font-semibold">Mailing Address</h2>
    
    <div className="space-y-4">
      <Input label="Street Address" />
      <Input label="Apartment, suite, etc. (optional)" />
      <Input label="City" />
    </div>
  </div>
  
  <div className="flex gap-4 pt-4">
    <Button variant="outline" size="lg">Cancel</Button>
    <Button variant="primary" size="lg">Submit Application</Button>
  </div>
</div>
```

### Communicates Brand Values
Spatial relationships convey personality and positioning.

```tsx
// ✅ PREMIUM POSITIONING - Generous space communicates luxury
<div className="min-h-screen flex items-center justify-center p-16">
  <div className="text-center space-y-12 max-w-2xl">
    <div className="space-y-8">
      <h1 className="text-6xl font-light tracking-wide">
        Exceptional
      </h1>
      <p className="text-xl text-muted-foreground leading-relaxed">
        Crafted for those who appreciate the finest details
      </p>
    </div>
    
    <Button variant="primary" size="lg" className="px-12 py-4">
      Discover More
    </Button>
    
    <div className="pt-16 border-t border-border/20">
      <p className="text-sm text-muted-foreground">
        Available by invitation only
      </p>
    </div>
  </div>
</div>

// ✅ EFFICIENT POSITIONING - Compact space communicates productivity  
<div className="p-6">
  <div className="flex items-center justify-between mb-6">
    <h1 className="text-2xl font-bold">Dashboard</h1>
    <div className="flex gap-2">
      <Button variant="outline" size="sm">Export</Button>
      <Button variant="primary" size="sm">New Project</Button>
    </div>
  </div>
  
  <div className="grid grid-cols-4 gap-4 mb-6">
    <Card className="p-4">
      <div className="text-2xl font-bold">1,234</div>
      <div className="text-sm text-muted-foreground">Active Users</div>
    </Card>
    {/* More compact stats cards */}
  </div>
  
  <div className="space-y-4">
    {/* Dense but organized content */}
  </div>
</div>
```

## Mathematical Approaches to Spacing

### Golden Ratio Spacing (φ = 1.618)
Use mathematical relationships for harmonious spatial proportions.

```tsx
// ✅ GOLDEN RATIO HARMONY - Mathematically pleasing relationships
<div className="space-y-8"> {/* Base unit */}
  <section className="space-y-5"> {/* 8 ÷ 1.618 ≈ 5 */}
    <h1>Primary Content</h1>
    <div className="space-y-3"> {/* 5 ÷ 1.618 ≈ 3 */}
      <p>Supporting content with natural visual rhythm</p>
      <p>Each spatial relationship follows golden ratio proportions</p>
    </div>
  </section>
  
  <section className="space-y-13"> {/* 8 × 1.618 ≈ 13 */}
    <h2>Secondary Content</h2>
    <div className="grid grid-cols-2 gap-13">
      {/* Generous gaps create premium feeling */}
    </div>
  </section>
</div>
```

### Fibonacci Sequence Spacing
Use Fibonacci numbers for natural, organic spacing scales.

```tsx
// ✅ FIBONACCI SPACING - Natural mathematical progression
<div style={{
  '--space-1': '8px',   // Fibonacci: 8
  '--space-2': '13px',  // Fibonacci: 13  
  '--space-3': '21px',  // Fibonacci: 21
  '--space-4': '34px',  // Fibonacci: 34
  '--space-5': '55px',  // Fibonacci: 55
  '--space-6': '89px',  // Fibonacci: 89
}}>
  <div className="space-y-[var(--space-6)]">
    <section className="space-y-[var(--space-4)]">
      <h1>Major Section</h1>
      <div className="space-y-[var(--space-3)]">
        <h2>Subsection</h2>
        <div className="space-y-[var(--space-2)]">
          <p>Paragraph content</p>
          <div className="space-y-[var(--space-1)]">
            <span>Fine details</span>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
```

### Modular Scale Spacing
Use consistent mathematical relationships for systematic spacing.

```tsx
// ✅ MODULAR SCALE - Systematic scaling relationships
const spacing = {
  xs: '0.25rem',  // 4px
  sm: '0.5rem',   // 8px  
  md: '1rem',     // 16px (base)
  lg: '1.5rem',   // 24px (1.5x base)
  xl: '2rem',     // 32px (2x base)
  '2xl': '3rem',  // 48px (3x base)  
  '3xl': '4rem',  // 64px (4x base)
  '4xl': '6rem',  // 96px (6x base)
};

<div className="space-y-16"> {/* 4xl - Major page sections */}
  <section className="space-y-12"> {/* 3xl - Content sections */}
    <div className="space-y-8"> {/* 2xl - Content groups */}
      <h1>Component spacing follows modular scale</h1>
      <div className="space-y-6"> {/* xl - Related content */}
        <p>Each spacing decision uses mathematical relationships</p>
        <div className="space-y-4"> {/* lg - Tight relationships */}
          <Button>Primary Action</Button>
          <div className="space-y-2"> {/* sm - Very close relationships */}
            <p className="text-sm text-muted-foreground">
              Helper text closely associated with button
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
```

## When to Use More Space

### Around Call-to-Action Buttons
Generous space increases click rates by drawing attention.

```tsx
// ✅ CTA ISOLATION - Space creates focus and importance
<div className="text-center space-y-12 py-16">
  <div className="space-y-6">
    <h1 className="text-4xl font-bold">Ready to get started?</h1>
    <p className="text-xl text-muted-foreground max-w-2xl mx-auto">
      Join thousands of satisfied customers who have transformed their workflow
    </p>
  </div>
  
  {/* Generous isolation draws attention to primary action */}
  <div className="py-8">
    <Button variant="primary" size="lg" className="px-12 py-4">
      Start Free Trial
    </Button>
  </div>
  
  <div className="pt-8 border-t border-border/20">
    <p className="text-sm text-muted-foreground">
      No credit card required • Cancel anytime
    </p>
  </div>
</div>
```

### Between Unrelated Content Sections
Clear visual separation prevents cognitive mixing.

```tsx
// ✅ CONTENT SEPARATION - Clear boundaries between topics
<div className="space-y-20"> {/* Large gaps separate major topics */}
  <section className="space-y-8">
    <h2 className="text-3xl font-bold">Product Features</h2>
    <div className="grid grid-cols-3 gap-8">
      {/* Feature content */}
    </div>
  </section>
  
  {/* Large gap clearly separates different content type */}
  
  <section className="space-y-8">
    <h2 className="text-3xl font-bold">Customer Testimonials</h2>
    <div className="grid grid-cols-2 gap-8">
      {/* Testimonial content */}
    </div>
  </section>
  
  {/* Another clear separation */}
  
  <section className="space-y-8">
    <h2 className="text-3xl font-bold">Pricing Plans</h2>
    <div className="grid grid-cols-3 gap-6">
      {/* Pricing content */}
    </div>
  </section>
</div>
```

### Around Error Messages
Space makes critical information more noticeable.

```tsx
// ✅ ERROR VISIBILITY - Space ensures critical messages are seen
<div className="space-y-6">
  <div className="space-y-4">
    <Input 
      label="Email Address" 
      error="Please enter a valid email address"
      className="border-destructive"
    />
    
    {/* Generous space around error context */}
    <div className="p-6 bg-destructive/10 border border-destructive/20 rounded">
      <div className="flex items-start gap-3">
        <AlertTriangleIcon className="w-5 h-5 text-destructive flex-shrink-0 mt-0.5" />
        <div className="space-y-2">
          <h4 className="font-medium text-destructive">
            Unable to create account
          </h4>
          <p className="text-sm text-destructive/80">
            The email address you entered is already associated with an existing account. 
            Please try a different email or sign in to your existing account.
          </p>
          <Button variant="outline" size="sm" className="mt-3">
            Sign In Instead
          </Button>
        </div>
      </div>
    </div>
  </div>
  
  <div className="flex gap-4">
    <Button variant="outline">Back</Button>
    <Button variant="primary">Try Again</Button>
  </div>
</div>
```

### In Forms
Adequate spacing reduces completion anxiety and errors.

```tsx
// ❌ CRAMPED FORMS - Dense spacing creates completion anxiety
<form className="space-y-2 p-4">
  <Input label="Name" />
  <Input label="Email" />
  <Input label="Phone" />
  <Input label="Company" />
  <Button variant="primary">Submit</Button>
</form>

// ✅ COMFORTABLE FORMS - Generous spacing reduces form anxiety
<form className="space-y-8 p-8 max-w-md">
  <div className="space-y-2">
    <h2 className="text-2xl font-semibold">Contact Information</h2>
    <p className="text-muted-foreground">
      We'll use this to get in touch with you
    </p>
  </div>
  
  <div className="space-y-6">
    <Input 
      label="Full Name" 
      placeholder="Enter your full name"
    />
    
    <Input 
      label="Email Address" 
      placeholder="you@company.com"
      type="email"
    />
    
    <Input 
      label="Phone Number" 
      placeholder="(555) 123-4567"
      type="tel"
    />
    
    <Input 
      label="Company Name" 
      placeholder="Your company or organization"
    />
  </div>
  
  <div className="pt-4">
    <Button variant="primary" size="lg" className="w-full">
      Send Message
    </Button>
    
    <p className="text-sm text-muted-foreground text-center mt-4">
      We typically respond within 24 hours
    </p>
  </div>
</form>
```

## When to Use Less Space

### Between Related Items
Proximity shows relationships and creates visual groups.

```tsx
// ✅ RELATIONSHIP GROUPING - Tight spacing shows connections
<div className="space-y-12">
  <div className="space-y-2"> {/* Tight spacing groups related info */}
    <h3 className="text-lg font-semibold">John Smith</h3>
    <p className="text-muted-foreground">Senior Developer</p>
    <p className="text-sm text-muted-foreground">john@company.com</p>
  </div>
  
  <div className="space-y-2"> {/* Another tightly grouped set */}
    <h3 className="text-lg font-semibold">Sarah Johnson</h3>
    <p className="text-muted-foreground">Product Manager</p>
    <p className="text-sm text-muted-foreground">sarah@company.com</p>
  </div>
</div>
```

### In Data-Heavy Interfaces
Maximize information density while maintaining readability.

```tsx
// ✅ EFFICIENT DATA DISPLAY - Compact spacing for information density
<div className="space-y-6">
  <div className="flex items-center justify-between">
    <h2 className="text-xl font-semibold">System Metrics</h2>
    <Button variant="outline" size="sm">Refresh</Button>
  </div>
  
  <div className="grid grid-cols-4 gap-4">
    <Card className="p-4 space-y-1"> {/* Compact internal spacing */}
      <div className="text-2xl font-bold">99.9%</div>
      <div className="text-sm text-muted-foreground">Uptime</div>
    </Card>
    
    <Card className="p-4 space-y-1">
      <div className="text-2xl font-bold">1.2ms</div>
      <div className="text-sm text-muted-foreground">Response Time</div>
    </Card>
    
    <Card className="p-4 space-y-1">
      <div className="text-2xl font-bold">847</div>
      <div className="text-sm text-muted-foreground">Active Users</div>
    </Card>
    
    <Card className="p-4 space-y-1">
      <div className="text-2xl font-bold">$12.4k</div>
      <div className="text-sm text-muted-foreground">Revenue</div>
    </Card>
  </div>
  
  {/* Compact table for detailed data */}
  <div className="border rounded">
    <table className="w-full">
      <thead className="border-b">
        <tr className="text-left">
          <th className="p-2 text-sm font-medium">Server</th>
          <th className="p-2 text-sm font-medium">Status</th>
          <th className="p-2 text-sm font-medium">Load</th>
          <th className="p-2 text-sm font-medium">Memory</th>
        </tr>
      </thead>
      <tbody className="text-sm">
        <tr className="border-b">
          <td className="p-2">web-01</td>
          <td className="p-2">
            <span className="inline-flex items-center gap-1">
              <div className="w-2 h-2 bg-green-500 rounded-full" />
              Online
            </span>
          </td>
          <td className="p-2">23%</td>
          <td className="p-2">45%</td>
        </tr>
        {/* More compact rows */}
      </tbody>
    </table>
  </div>
</div>
```

### On Mobile Interfaces
Screen real estate is precious—use space strategically.

```tsx
// ✅ MOBILE OPTIMIZATION - Strategic spacing for small screens
<div className="space-y-6 p-4"> {/* Reduced padding for mobile */}
  <div className="space-y-3">
    <h1 className="text-2xl font-bold">Account Settings</h1>
    <p className="text-muted-foreground">Manage your profile and preferences</p>
  </div>
  
  {/* Compact sections with clear separation */}
  <div className="space-y-4">
    <div className="space-y-3 p-4 border rounded">
      <h3 className="font-medium">Profile Information</h3>
      <div className="space-y-3">
        <Input label="Name" size="sm" />
        <Input label="Email" size="sm" />
      </div>
    </div>
    
    <div className="space-y-3 p-4 border rounded">
      <h3 className="font-medium">Notification Preferences</h3>
      <div className="space-y-2">
        <label className="flex items-center gap-2">
          <input type="checkbox" />
          <span className="text-sm">Email notifications</span>
        </label>
        <label className="flex items-center gap-2">
          <input type="checkbox" />
          <span className="text-sm">Push notifications</span>
        </label>
      </div>
    </div>
  </div>
  
  <div className="pt-2">
    <Button variant="primary" className="w-full">
      Save Changes
    </Button>
  </div>
</div>
```

## Spatial Anti-Patterns

### The Claustrophobic Interface
```tsx
// ❌ NO BREATHING ROOM - Dense layout overwhelms users
<div className="p-2">
  <h1 className="text-lg mb-1">Dashboard</h1>
  <div className="grid grid-cols-4 gap-1 mb-2">
    <div className="p-1 border text-xs">Users: 1,234</div>
    <div className="p-1 border text-xs">Revenue: $5,678</div>
    <div className="p-1 border text-xs">Orders: 890</div>
    <div className="p-1 border text-xs">Returns: 12</div>
  </div>
  <div className="space-y-1">
    <input className="w-full p-1 border text-sm" placeholder="Search" />
    <button className="w-full p-1 bg-blue-500 text-white text-sm">Search</button>
    <button className="w-full p-1 border text-sm">Reset</button>
  </div>
</div>
```

### The Scattered Interface
```tsx
// ❌ INCONSISTENT SPACING - No systematic spatial relationships
<div className="p-3">
  <h1 className="text-2xl mb-8">Welcome</h1>
  <p className="mb-2">This is important information</p>
  <button className="mb-12 p-2 bg-blue-500 text-white">Get Started</button>
  <p className="mb-1">Secondary information here</p>
  <div className="mb-20 grid grid-cols-2 gap-3">
    <div>Feature 1</div>
    <div>Feature 2</div>
  </div>
  <footer className="text-sm">Footer content</footer>
</div>
```

## Practical Application Guidelines

### Spacing Composition Checklist
Before finalizing interface spacing:

- [ ] **Hierarchy clear through space** - More important = more space
- [ ] **Mathematical relationships** - Use consistent scaling (1.5x, 2x, golden ratio)
- [ ] **Grouped related content** - Tight spacing shows relationships
- [ ] **Separated unrelated content** - Generous gaps prevent confusion
- [ ] **Comfortable interaction targets** - Adequate space around buttons/forms
- [ ] **Platform appropriate** - More space on desktop, strategic space on mobile
- [ ] **Brand alignment** - Luxury = generous, efficiency = compact

### Negative Space Debugging
When interfaces feel cluttered or confusing:

1. **Audit spatial relationships** - What's grouped? What's separated?
2. **Check mathematical consistency** - Are spacing increments systematic?
3. **Evaluate attention flow** - Does space guide toward important content?
4. **Test comprehension** - Does generous spacing aid understanding?
5. **Verify brand alignment** - Does spatial treatment match positioning?

---

**Remember: What you leave out shapes the experience as much as what you include. Use space intentionally.**