import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="00 Introduction/Attention Economics" name="Overview" />

# Attention Economics

How to manage finite cognitive resources when composing Rafters components into cohesive user interfaces.

## The Scarcity of Attention

**Attention is the scarcest resource in digital interfaces.** Users arrive with limited cognitive capacity, and every design element either **earns** or **costs** attention. The art of interface composition lies in creating clear attention hierarchies that guide users toward valuable actions while minimizing cognitive waste.

### Research Foundation
- Users make decisions about interface value within **3 seconds** of arrival
- **Visual hierarchy reduces task completion time by 43%** when properly implemented  
- Interfaces with **clear primary actions see 67% higher conversion rates**
- **Attention residue from complex interfaces reduces focus by 23%** on subsequent tasks

## The Attention Budget System

Every interface section has a finite attention budget. Spend it wisely.

### Budget Allocation Rules

```tsx
// ❌ ATTENTION BANKRUPTCY - Too many competing priorities
<div className="space-y-4">
  <Button variant="primary" size="lg">Subscribe Now</Button>
  <Button variant="primary" size="lg">Download Free</Button>  
  <Button variant="primary" size="lg">Get Started</Button>
  <Button variant="primary" size="lg">Learn More</Button>
</div>

// ✅ ATTENTION HIERARCHY - Clear primary → secondary flow
<div className="space-y-4">
  <Button variant="primary" size="lg">Subscribe Now</Button>
  <Button variant="outline" size="md">Learn More</Button>
  <Button variant="ghost" size="sm">Skip</Button>
</div>
```

### The 1-2-Many Rule
- **1 Primary Action** per interface section (commands highest attention)
- **2 Secondary Actions** maximum (supporting or alternative paths)
- **Many Tertiary Actions** (low-friction, discoverable options)

## Component Attention Values

Understanding the attention cost of each component helps you budget effectively.

### High-Attention Components (Use Sparingly)
```tsx
// Primary buttons - Maximum attention draw
<Button variant="primary" size="lg" cognitiveLoad={3}>
  Complete Purchase
</Button>

// Destructive dialogs - Critical attention required  
<Dialog trustLevel="critical" destructive>
  <DialogTitle>Delete Account Forever</DialogTitle>
</Dialog>

// Error states - Immediate attention needed
<Input error="Invalid email address" />
```

### Medium-Attention Components (Balanced Usage)
```tsx
// Secondary buttons - Clear but not overwhelming
<Button variant="secondary" size="md">
  Save Draft  
</Button>

// Info dialogs - Important but not critical
<Dialog trustLevel="medium">
  <DialogTitle>Confirm Changes</DialogTitle>
</Dialog>

// Form labels - Necessary attention for clarity
<Label htmlFor="email">Email Address</Label>
```

### Low-Attention Components (Liberal Usage)
```tsx
// Tertiary buttons - Available but unobtrusive
<Button variant="ghost" size="sm">
  Cancel
</Button>

// Helper text - Discoverable when needed
<p className="text-muted-foreground text-sm">
  We'll never share your email
</p>

// Container structure - Invisible organization  
<Card className="p-6">
  {/* Content receives the attention */}
</Card>
```

## Attention Flow Patterns

### The Z-Pattern (Western Reading)
Users scan in a Z-pattern: top-left → top-right → bottom-left → bottom-right.

```tsx
// ✅ OPTIMIZED for Z-pattern scanning
<div className="grid grid-cols-2 gap-6">
  <div className="col-span-2">
    {/* Top: Brand/Navigation - Natural starting point */}
    <nav>Logo + Menu</nav>
  </div>
  
  <div>
    {/* Left: Primary content - Main attention sink */}
    <h1>Primary Message</h1>
    <p>Supporting content...</p>
  </div>
  
  <div className="text-right">
    {/* Right: Primary action - Z-pattern endpoint */}
    <Button variant="primary" size="lg">
      Get Started
    </Button>
  </div>
</div>
```

### The F-Pattern (Content-Heavy)
For content-heavy interfaces, users scan in an F-pattern.

```tsx
// ✅ OPTIMIZED for F-pattern scanning
<div className="space-y-6">
  {/* Horizontal scan 1: Most important information */}
  <div className="flex justify-between items-center">
    <h1>Account Settings</h1>
    <Button variant="primary">Save Changes</Button>
  </div>
  
  {/* Horizontal scan 2: Secondary information */}
  <div className="flex gap-4">
    <Button variant="outline">Profile</Button>
    <Button variant="outline">Privacy</Button>
    <Button variant="outline">Billing</Button>
  </div>
  
  {/* Vertical scan: Content details */}
  <div className="space-y-4">
    <Input label="Name" />
    <Input label="Email" />
    {/* ... more form fields */}
  </div>
</div>
```

## Managing Attention Competition

### Sequential Disclosure
Reveal complexity progressively to prevent attention overwhelm.

```tsx
// ✅ PROGRESSIVE COMPLEXITY - Attention managed through disclosure
function AdvancedSettings() {
  const [showAdvanced, setShowAdvanced] = useState(false);
  
  return (
    <div className="space-y-4">
      {/* Basic settings - Always visible */}
      <Input label="Site Title" />
      <Input label="Description" />
      
      {/* Advanced toggle - Low attention cost */}
      <Button 
        variant="ghost" 
        onClick={() => setShowAdvanced(!showAdvanced)}
      >
        {showAdvanced ? 'Hide' : 'Show'} Advanced Options
      </Button>
      
      {/* Advanced settings - Revealed on demand */}
      {showAdvanced && (
        <div className="space-y-4 p-4 border border-border rounded">
          <Input label="Custom CSS" />
          <Input label="Meta Tags" />
          <Select label="Cache Duration" />
        </div>
      )}
    </div>
  );
}
```

### Attention Grouping  
Group related components to reduce cognitive scanning load.

```tsx
// ❌ SCATTERED ATTENTION - Hard to process relationships
<div className="space-y-2">
  <Input label="First Name" />
  <Button variant="outline">Save</Button>
  <Input label="Last Name" />
  <Input label="Email" />  
  <Button variant="primary">Submit</Button>
  <Input label="Phone" />
</div>

// ✅ GROUPED ATTENTION - Clear relationships and hierarchy
<div className="space-y-6">
  {/* Personal info group */}
  <div className="space-y-3">
    <h3 className="font-semibold">Personal Information</h3>
    <div className="grid grid-cols-2 gap-3">
      <Input label="First Name" />
      <Input label="Last Name" />
    </div>
    <Input label="Email" />
    <Input label="Phone" />
  </div>
  
  {/* Action group */}
  <div className="flex gap-3">
    <Button variant="outline">Save Draft</Button>
    <Button variant="primary">Submit Application</Button>
  </div>
</div>
```

## Attention Recovery Patterns

### Micro-Breaks
Provide attention recovery points in complex interfaces.

```tsx
// ✅ ATTENTION RECOVERY - Breathing room between complex sections
<div className="space-y-12"> {/* Generous spacing for mental breaks */}
  <section>
    <h2>Billing Information</h2>
    {/* Complex billing form */}
  </section>
  
  {/* Recovery space */}
  <div className="h-8" />
  
  <section>
    <h2>Shipping Details</h2>
    {/* Another complex form */}
  </section>
</div>
```

### Attention Anchors
Use visual anchors to help users maintain focus during complex tasks.

```tsx
// ✅ ATTENTION ANCHORS - Progress and context preservation
<div className="space-y-6">
  {/* Progress anchor - Shows completion state */}
  <div className="flex items-center gap-2">
    <span className="text-sm text-muted-foreground">Step 2 of 4</span>
    <div className="flex-1 h-1 bg-muted rounded">
      <div className="h-full w-1/2 bg-primary rounded" />
    </div>
  </div>
  
  {/* Context anchor - Reminds user of goal */}  
  <div className="bg-accent/10 p-4 rounded">
    <h3>Setting up your account</h3>
    <p className="text-muted-foreground">
      We need a few details to personalize your experience
    </p>
  </div>
  
  {/* Form content */}
  <div className="space-y-4">
    {/* Complex form fields */}
  </div>
</div>
```

## Common Attention Anti-Patterns

### The Shouty Interface
Everything competing for primary attention.

```tsx
// ❌ ATTENTION CHAOS - Every element screaming for attention
<div className="space-y-4">
  <Alert variant="destructive">Critical system error!</Alert>
  <Button variant="primary" size="lg">UPGRADE NOW!</Button>
  <Badge variant="destructive">LIMITED TIME!</Badge>
  <Button variant="primary" size="lg">BUY TODAY!</Button>
  <Toast variant="error">Payment failed!</Toast>
</div>
```

### The Buried Call-to-Action
Important actions lost in visual noise.

```tsx  
// ❌ BURIED ACTION - Primary action gets lost
<div className="grid grid-cols-4 gap-2">
  <Button variant="outline">Feature A</Button>
  <Button variant="outline">Feature B</Button>
  <Button variant="outline">Get Started</Button> {/* Lost! */}
  <Button variant="outline">Feature C</Button>
  <Button variant="outline">Learn More</Button>
  <Button variant="outline">Contact Us</Button>
</div>

// ✅ ELEVATED ACTION - Clear hierarchy guides attention  
<div className="space-y-6">
  <div className="text-center">
    <Button variant="primary" size="lg">Get Started</Button>
  </div>
  
  <div className="grid grid-cols-3 gap-2">
    <Button variant="ghost" size="sm">Learn More</Button>
    <Button variant="ghost" size="sm">Features</Button>  
    <Button variant="ghost" size="sm">Contact</Button>
  </div>
</div>
```

## Practical Application Guidelines

### Interface Composition Checklist
Before finalizing any interface composition, verify:

- [ ] **One clear primary action** per section
- [ ] **Visual weight matches importance** (primary > secondary > tertiary)  
- [ ] **Related components grouped** together
- [ ] **Attention recovery points** in complex flows
- [ ] **Progressive disclosure** for advanced options
- [ ] **Consistent attention patterns** across similar interfaces

### Component Attention Audit
For each component in your composition, ask:
1. **Does this earn its attention cost?** (Value vs. visual weight)
2. **Is the attention hierarchy clear?** (Most important = most prominent)
3. **Are there attention conflicts?** (Multiple elements competing)
4. **Can users recover attention?** (Breathing room and breaks)

---

**Remember: Attention is finite. Spend it on what matters most to your users' success.**